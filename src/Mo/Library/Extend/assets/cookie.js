var _cookies_received=null;function $cookie(c,e,d){if(e===undefined){if(!_cookies_received){$cookie.receive()}return _cookies_received[c]}var b={value:null,keys:null,options:F.extend({httponly:false,secure:false,expires:null,path:"/",domain:null},d||{})};if(e&&typeof e=="object"&&e.constructor==Object){if(!b.keys){b.keys={}}for(var a in e){if(!e.hasOwnProperty(a)){continue}b.keys[a]=e[a]}}else{b.value=e}send(c,b)}function send(c,b){var e=F.encode(b.value||""),f="";if(b.keys){e=F.object.toURIString(b.keys)}f+=c+"="+e;var a=b.options.expires;if(a){var d=typeof a;if(d=="string"){var g=F.date.parse(b.options.expires);if(g){f+="; expires="+(new Date(g.ticks)).toUTCString()}}else{if(d=="object"&&a.constructor==Date){f+="; expires="+a.toUTCString()}else{if(d=="date"||d=="number"){f+="; expires="+(new Date(d-0)).toUTCString()}else{ExceptionManager.put(60705,"cookie","invalid expires value.")}}}}if(b.options.domain){f+="; domain="+F.encode(b.options.domain)}if(b.options.secure){f+="; secure"}if(b.options.httponly){f+="; HttpOnly"}f+="; path="+b.options.path;res.AddHeader("Set-Cookie",f)}function receive(){if(!_cookies_received){_cookies_received={};var a=(F.server("HTTP_COOKIE")||"").replace(/\s+/ig,"");F.string.matches(a,/(.+?)\=(.+?)(\;|$)/ig,function(b,c,d){if(d.indexOf("=")>0){_cookies_received[c]=F.object.fromURIString(d)}else{_cookies_received[c]=F.decode(d)}})}}receive();module.exports=$cookie;