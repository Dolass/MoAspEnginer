function replacementter(e,d,a,f,c){var b=new RegExp(d+"((.*?)[^\\\\])?"+a,"ig");return e.replace(b,function(h,g){return f.call(c,g,d,a)})}function readAttrs__(e){if(typeof e!="string"){return{}}if(!e){return{}}e=F.string.trim(F.string.trim(e).replace(/^<(\w+)([\s\S]+?)(\/)?>([\s\S]*?)$/i,"$2"));var d={};var c=/\b([\w\.]+)\=(\"|\')(.+?)(\"|\')( |$)/igm;var b=c.exec(e);while(b!=null){d[b[1]]=b[3];b=c.exec(e)}return d}var G=Mo.Config.Global;var REGEXP={LOOP:/<loop ([\w\.]+)(\="(((\w+) as )?(\w+))")?>/ig,FOR:/<for ([\w\.]+)(\="(((\w+) as )?(\w+))")?>/i,FOREACH:/<foreach ([\w\.]+)(\="(((\w+) as )?(\w+))")?>/i,FOREACH2:/<foreach2 ([\w\.]+)(\="(((\w+) as )?(\w+))")?>/i};function MoAspEnginerView(){this.mvarDicts={};this.Content="";this.loops=";";this.assigns=""}MoAspEnginerView.compile=function(a){var b=new MoAspEnginerView();b.setContent(a).parse();return b.Content};MoAspEnginerView.prototype.setContent=function(a){if(!a){return this}F.string.matches(a,/<literal>([\s\S]*)<\/literal>/ig,function(c,b){var d=this.getRndid();this.mvarDicts[d]=b;a=a.replace(c,'<literal id="'+d+'"/>')},this);a=a.replace(/(\s*)\<\!\-\-\/\/(.*?)\-\-\>(\s*)/ig,"");a=a.replace(/(\s*)\<\!\-\-\/\*([\s\S]*?)\*\/\-\-\>(\s*)/ig,"");a=F.string.replace(a,/<switch(.+?)>(\s*)<case/igm,"<switch$1><case");a=F.string.replace(a,/\r\n/igm,"--movbcrlf--");a=F.string.replace(a,/\r/igm,"--movbcrlf--");a=F.string.replace(a,/\n/igm,"--movbcrlf--");a=F.string.replace(a,/(--movbcrlf--){1,}/igm,"--movbcrlf--");a=F.string.replace(a,/--movbcrlf--/igm,"--movbcrlf--\r\n");this.Content=a;return this};MoAspEnginerView.prototype.parse=function(){this.parsePreCombine();if(G.MO_TAG_LIB!=""){var e=G.MO_TAG_LIB.split(","),h,d,g;for(var a=0;a<e.length;a++){h=e[a];d=true;g="";var j=Mo.LoadAssets(h);if(j){var c,f=new RegExp("\\<"+h+"\\b([\\s\\S]*?)\\>([\\s\\S]*?)\\<\\/"+h+"\\>","igm"),b=F.string.matches(this.Content,f);if(b&&b>0){d=false}else{f=new RegExp("\\<"+h+"\\b([\\s\\S]*?)\\/\\>","igm");b=F.string.matches(this.Content,f)}if(!b){continue}while(b.length>0){c=b.pop();if(!d){g=c[2]}while(this.Content.indexOf(c[0])>=0){this.Content=this.Content.replace(c[0],j.Index(readAttrs__(c[1]),g))}}}}}this.parseSource();this.parseHtmlHelper();this.getLoops(["loop"]);this.parsePage();this.parseVari(["#","@","$"]);this.parseLoop();this.parseForeach();this.parseEmpty();this.parseSwitch();this.parseCompare(["lt","gt","nlt","ngt","eq","neq"]);this.parseExpression();this.parseExpressionElse();this.Content=F.string.replace(this.Content,/<(and|or)(.+?)\/>/igm,"");this.Content=F.string.replace(this.Content,/<\/else>/igm,"{?MoAsp }else{ MoAsp?}");this.Content=F.string.replace(this.Content,/<else \/>/igm,"{?MoAsp }else{ MoAsp?}");this.Content=F.string.replace(this.Content,/<break \/>/igm,"{?MoAsp break; MoAsp?}");this.Content=F.string.replace(this.Content,/<\/switch>/igm,"{?MoAsp } MoAsp?}");this.Content=F.string.replace(this.Content,/<default \/>/igm,"{?MoAsp default : MoAsp?}");this.Content=F.string.replace(this.Content,/<\/(n)?(eq|empty|lt|gt|expression|eof|foreach)>/igm,"{?MoAsp } MoAsp?}");this.parseVari("");this.parseAssignName();this.parseMoAsAsp();this.doSomethingToAsp();return this};MoAspEnginerView.prototype.parseMoAsAsp=function(){F.string.matches(this.Content,/\{\?MoAsp([\s\S]*?)MoAsp\?\}/igm,function(a){var b=this.getRndid();this.mvarDicts[b]=a;this.Content=F.replace(this.Content,a,"\r\n{?MoAsp"+b+"MoAsp?}\r\n")},this);this.Content=this.Content.replace(/^--movbcrlf--$/igm,"");this.Content=this.Content.replace(/(\r\n){2,}/igm,"\r\n");if(G.MO_PREETY_HTML){this.Content=this.Content.replace(/>(\s*)--movbcrlf--(\s*)\</ig,"><")}this.Content=this.Content.replace(/(^(\s+)|(\s+)$)/ig,"");this.Content=this.Content.replace(/\\/igm,"\\\\");F.string.matches(this.Content,/(\s*)<literal id\=\"(\w+?)\"\/>(\s*)/ig,function(b,a,c){this.Content=this.Content.replace(b,this.mvarDicts[c].replace(/\\/ig,"\\\\").replace(/\r/ig,"\\r").replace(/\n/ig,"\\n"))},this);this.Content=this.Content.replace(/\"/igm,'\\"');this.Content=this.Content.replace(/\t/igm,"\\t");this.Content=this.Content.replace(/^(.+?)$/igm,'__Mo__.Echo("$1");');F.string.matches(this.Content,/^__Mo__\.Echo\(\"\{\?MoAsp([\w]+?)MoAsp\?\}\"\);$/igm,function(b,a){this.Content=F.replace(this.Content,b,this.mvarDicts[a])},this);this.Content=F.string.replace(this.Content,/\{\?MoAsp /igm,"");this.Content=F.string.replace(this.Content,/(\s*)MoAsp\?\}/igm,"")};MoAspEnginerView.prototype.getRndid=function(){var a=F.random.word(10);while(this.mvarDicts.hasOwnProperty(a)){a=F.random.word(10)}return a};MoAspEnginerView.prototype.doSomethingToAsp=function(){this.Content=this.Content.replace(/--movbcrlf--/igm,"\\r\\n");this.Content='if(typeof Mo=="undefined"){Response.Write("invalid call.");Response.End();}\r\nfunction _echo(src){if(src===undefined || src===null) src="";_contents += src;if(!__buffer && _contents.length>__buffersize) {Response.Write(_contents);_contents="";}}\r\nfunction _end(){if(!__buffer)Response.Write(_contents);}\r\n'+this.assigns+'var _contents = "";\r\n"UNSAFECONTENTS";\r\nwith($){\r\n'+this.Content.replace(/__Mo__\.Echo\(/igm,"_echo(")+"\r\n}\r\n_end();delete _end;delete _echo;if(__buffer) return _contents;";this.Content=this.Content.replace(/"\);\r\n_echo\("/igm,"");this.Content=this.Content.replace(/^_echo\(\"(.+?)\"\);$/igm,'_contents += "$1";');if(G.MO_PREETY_HTML){this.Content=this.Content.replace(/\\r\\n\\t/igm,"")}};MoAspEnginerView.prototype.parseArguments=function(g){g=replacementter(g,'\\"','\\"',function(h){return'"'+h.replace(/\,/ig,"`--DOTTED--`")+'"'},null);var a=g.split(","),f="",e="";for(var c=0;c<a.length;c++){if(a[c]=="{{k}}"){f+=a[c]+","}else{a[c]=a[c].replace(/`--DOTTED--`/ig,",");try{(new Function("return "+a[c]+";"))();f+=a[c]+","}catch(b){var d=b.number&65535;if(d==5009){f+=this.parseAssign(F.string.trim(a[c]))+","}else{f+=a[c]+","}}}}return F.string.trim(f,",")};MoAspEnginerView.prototype.parseHtmlHelper=function(){this.Content=replacementter(this.Content,"\\{\\$Html\\.","\\}",function(b,a){b=b.replace(/\\(\{|\})/ig,"$1");var d=/^(\w+)\((.*?)\)$/.exec(b);if(d){var c=d[2];if(c!=""){c=this.parseArguments(c)}return"{?MoAsp __Mo__.Echo(Html."+d[1]+"("+c+")); MoAsp?}"}else{return"(此位置模板代码语法错误，相关代码："+F.encodeHtml(a+b+"}").replace(/\$/ig,"&#36;")+")"}},this)};MoAspEnginerView.prototype.parsePreCombine=function(){this.Content=replacementter(this.Content,"\\{\\$\\$U\\(","\\}",function(a){a=a.replace(/\\(\{|\})/ig,"$1");return(new Function("return Mo.U("+this.parseArguments(a.substr(0,a.length-1))+");"))()},this);this.Content=replacementter(this.Content,"\\{\\$\\$","\\}",function(a){return G[a.replace(/\\(\{|\})/ig,"$1")]},this);this.Content=replacementter(this.Content,"\\{\\$U\\(","\\}",function(a){a=a.replace(/\\(\{|\})/ig,"$1");return"{?MoAsp __Mo__.Echo(Mo.U("+this.parseArguments(a.substr(0,a.length-1))+")); MoAsp?}"},this)};MoAspEnginerView.prototype.parsePage=function(){F.string.matches(this.Content,/\<eof ([\s\S]+?)>([\s\S]+?)<\/eof>/igm,function(b,a,d){var c=readAttrs__(a);if(c["for"]){if(this.loops.indexOf(";"+c["for"].replace(/\./ig,"_")+";")>=0){this.Content=F.replace(this.Content,b,"{?MoAsp if("+this.parseAssign(c["for"])+".eof()){ MoAsp?}"+d+"{?MoAsp } MoAsp?}")}else{this.Content=F.replace(this.Content,b,"")}}},this);F.string.matches(this.Content,/\<page ([\s\S]+?)\/>/igm,function(d,b,h){var e=readAttrs__(b);if(e["for"]){var f=e["for"],c=f.replace(/\./ig,"_"),a=e.url||"",g=e["function"]||"CreatePageList";if(this.loops.indexOf(";"+c+";")>=0){this.Content=F.replace(this.Content,d,"{?MoAsp __Mo__.Echo("+g+'("'+a+'",'+f+".recordcount,"+f+".pagesize,"+f+".currentpage)); MoAsp?}")}else{this.Content=F.replace(this.Content,d,"")}}},this)};MoAspEnginerView.prototype.getLoops=function(){F.string.matches(this.Content,/<loop ([\w\.]+)(.*?)>/ig,function(b,a,c){if(a=="name"){this.loops+=readAttrs__(a+c)["name"].replace(/\./ig,"_")+";"}else{this.loops+=a.replace(/\./ig,"_")+";"}},this)};MoAspEnginerView.prototype.parseLoop=function(){F.string.matches(this.Content,/<loop (.+?)>/ig,function(b,a){var c=readAttrs__(a);if(c.name){if(c.as){var d=c.as.split(",");if(d.length==1){d=["key"].concat(d)}this.parseLoopByArguments(b,c.name,d[0],d[1])}else{this.parseLoopByArguments(b,c.name,c.key||"key",c.value||"value")}}},this);F.string.matches(this.Content,REGEXP.LOOP,function(b,a,g,f,e,d,c){this.parseLoopByArguments(b,a,d||"key",c||"value")},this);this.Content=F.replace(this.Content,"</loop>","{?MoAsp }); MoAsp?}")};MoAspEnginerView.prototype.parseLoopByArguments=function(e,d,f,b){var a=d.replace(/\./ig,"_");var c="{?MoAsp "+d+".reset();\r\n";c+="var index_"+a+"="+d+".pagesize *("+d+".currentpage-1);\r\n";c+=d+".each(function("+b+", index){\r\nvar "+f+"=index_"+a+"+index;\r\n MoAsp?}";this.Content=F.replace(this.Content,e,c)};MoAspEnginerView.prototype.parseFor=function(){F.string.matches(this.Content,/<for (.+?)>/igm,function(d,c,a){var j=readAttrs__(c);var b,f,e,i=true;if(j.name){b=j.name;f=j.key;e=j.value;if(j.asc){i=F.bool(j.asc)}}else{var h=REGEXP.FOR.exec(d);if(h){b=h[1];f=h[5];e=h[6]}}if(b){f=f||"key";e=e||"value";var g="";if(i){g="{?MoAsp for(var "+f+"=0;"+f+"<"+b+".length;"+f+"++){\r\nvar "+e+"="+b+"["+f+"];\r\nMoAsp?}\r\n"}else{g="{?MoAsp for(var "+f+"="+b+".length-1;"+f+">=0;"+f+"--){\r\nvar "+e+"="+b+"["+f+"];\r\nMoAsp?}\r\n"}this.Content=F.replace(this.Content,d,g)}},this);this.Content=F.replace(this.Content,"</for>","{?MoAsp }\r\n MoAsp?}")};MoAspEnginerView.prototype.parseForeach2=function(){F.string.matches(this.Content,/\<foreach2 ([\s\S]+?)\>/igm,function(b,a,g){var c=readAttrs__(a);if(c.name){var d=c.name,f=c.key||"key",e=c.value||"value";this.Content=F.replace(this.Content,b,"{?MoAsp F.foreach("+this.parseAssign(d)+",function("+f+","+e+"){\r\n MoAsp?}\r\n")}},this);this.Content=F.replace(this.Content,"</foreach2>","{?MoAsp });\r\n MoAsp?}")};MoAspEnginerView.prototype.parseForeach=function(){F.string.matches(this.Content,/\<foreach ([\s\S]+?)\>/igm,function(d,c,a){var i=readAttrs__(c);var b,f,e;if(i.name){b=i.name;f=i.key;e=i.value}else{var h=REGEXP.FOREACH.exec(d);if(h){b=h[1];f=h[5];e=h[6]}}if(b){f=f||"key";e=e||"value";var g="{?MoAsp for(var "+f+" in "+b+"){\r\nif(!"+b+".hasOwnProperty("+f+"))continue;\r\nvar "+e+"="+b+"["+f+"];\r\nMoAsp?}\r\n";this.Content=F.replace(this.Content,d,g)}},this);this.Content=F.replace(this.Content,"</foreach>","{?MoAsp }\r\n MoAsp?}");this.parseForeach2();this.parseFor()};MoAspEnginerView.prototype.parseSwitch=function(){F.string.matches(this.Content,/<switch ([\s\S]+?)>/igm,function(b,a){var c=readAttrs__(a);if(c.name){this.Content=F.replace(this.Content,b,"{?MoAsp switch("+this.parseAssign(c.name)+"){ MoAsp?}")}},this);this.parseCase()};MoAspEnginerView.prototype.parseCase=function(){F.string.matches(this.Content,/<case ([\s\S]+?)\/>/igm,function(b,a){var c=readAttrs__(a),d='"';if("|bool|number|money|date|assign|".indexOf("|"+(c.type||"")+"|")>0){d=""}this.Content=F.replace(this.Content,b,"{?MoAsp case "+d+c.value+d+": MoAsp?}")},this)};MoAspEnginerView.prototype.parseExpression=function(){F.string.matches(this.Content,/<expression ([\s\S]+?)>/igm,function(b,a){var c=this.parseExpressionComponent(a);if(c==""){ExceptionManager.put(33536,"ViewParser","模板代码语法错误，相关代码'"+b+"'")}else{this.Content=F.replace(this.Content,b,"{?MoAsp if("+c+"){\r\n MoAsp?}")}},this)};MoAspEnginerView.prototype.parseExpressionElse=function(){F.string.matches(this.Content,/<else ([\s\S]+?) \/>/igm,function(b,a){var c=this.parseExpressionComponent(a);if(c==""){ExceptionManager.put(33536,"ViewParser","模板代码语法错误，相关代码'"+b+"'")}else{this.Content=F.replace(this.Content,b,"{?MoAsp }else if("+c+"){ MoAsp?}")}},this)};MoAspEnginerView.prototype.parseExpressionComponent=function(a){var b="";F.string.matches(a,/\b(and|or|group)\=(\"|\')(.+?)(\"|\')/igm,function(g,f,e,d){if(f=="and"||f=="or"){var k=d,h=/^(.+?)((\s)(\+|\-|\*|\/|%|\<\<|\>\>|\>\>\>|\+\=|\-\=|\*\=|\/\=|\||\&|\&\&|\|\|)(\s)([\d\.e\+]+))?(\s)(gt|lt|ngt|nlt|eq|neq)(\s)(.+?)((\s)as(\s)(bool|number|money|date|assign))?$/i.exec(k);if(h){var j='"',i=h[10];if(b!=""){b+=" "+(f=="and"?"&&":"||")+" "}if(F.string.endWith(h[8],"t")){j=""}if(i=="Empty"){var c=this.parseAssign(h[1]);if(h[2]!=""){c+=h[2]}b+=" (typeof "+c+' == "undefined" || is_empty('+c+")) "}else{b+=this.parseAssign(h[1]);if(h[2]!=""){b+=h[2]}if(h[8]=="gt"){b+=" > "}if(h[8]=="lt"){b+=" < "}if(h[8]=="ngt"){b+=" <= "}if(h[8]=="nlt"){b+=" >= "}if(h[8]=="eq"){b+=" == "}if(h[8]=="neq"){b+=" != "}if(h[11]!=""){j="";if(h[14]=="assign"){i=this.parseAssign(i)}}if(F.string.test(i,/^\{\$(.+?)\}$/i)){i=this.parseAssign(F.string.replace(i,/^\{\$(.+?)\}$/i,"$1"));j=""}b+=j+i+j}}}else{var l=d;var m=(new RegExp("<(and|or) name\\=(\\\"|\\')"+l+"(\\\"|\\')(.+?) \\/>","igm")).exec(this.Content);if(m){b+=" "+(m[1]=="and"?"&&":"||")+" ("+this.parseExpressionComponent(m[4])+") "}}},this);return b};MoAspEnginerView.prototype.parseCompare=function(a){if(a.constructor==Array){for(var b=0;b<a.length;b++){this.parseCompare(a[b])}return}F.string.matches(this.Content,new RegExp("<"+a+" ([\\s\\S]+?)>","igm"),function(d,c){var e=readAttrs__(c);if(e.name){var f=e.name+" "+a+" "+e.value;if(e.type){f+=" as "+e.type}this.Content=F.replace(this.Content,d,'<expression and="'+f+'">')}},this)};MoAspEnginerView.prototype.parseEmpty=function(){F.string.matches(this.Content,/<(n)?empty ([\s\S]+?)>/igm,function(b,a,e){var c=readAttrs__(e);if(c.name){var d=this.parseAssign(c.name);this.Content=F.replace(this.Content,b,"{?MoAsp if("+(a=="n"?" !":"")+"(typeof "+d+' == "undefined" || is_empty('+d+"))){\r\n MoAsp?}")}},this)};MoAspEnginerView.prototype.parseAssignName=function(){F.string.matches(this.Content,/<assign ([\s\S]+?)\/>(\s*)/igm,function(b,a){var c=readAttrs__(a);if(c.name){var d='"';if(c.notstring=="true"){d=""}this.Content=F.replace(this.Content,b,"");this.assigns+='Mo.assign("'+c.name+'",'+d+F.string.replace(c.value,/\"/igm,'\\"')+d+");\r\n"}},this)};MoAspEnginerView.prototype.parseSource=function(){F.string.matches(this.Content,/<(js|css|load) ([\s\S]+?) \/>/igm,function(b,a,h){var c=readAttrs__(h),f=c.file||c.href||c.src||"";if(f!=""){var g="",e="",d="";if(f.indexOf(".")>0){d=f.substr(f.lastIndexOf("."))}if(c.id){g=' id="'+c.id+'"'}if(c.charset){e=' charset="'+c.charset+'"'}if(a=="js"||d==".js"){this.Content=F.replace(this.Content,b,'<script type="text/javascript" src="'+f+'"'+g+e+"><\/script>")}else{this.Content=F.replace(this.Content,b,'<link rel="stylesheet" type="text/css" href="'+f+'"'+g+e+" />")}}},this)};MoAspEnginerView.prototype.parseVari=function(b){if(b.constructor==Array){for(var a=0;a<b.length;a++){this.parseVari(b[a])}return}this.Content=replacementter(this.Content,"\\{\\$"+b,"\\}",function(c,e){c=c.replace(/\\(\{|\})/ig,"$1");var d=this.parseAssign(c);if(e=="{$#"){return'" + '+d+' + "'}else{if(e=="{$@"){return d}else{if(e=="{$$"){return(new Function("return "+d))()}else{return"{?MoAsp __Mo__.Echo("+d+");MoAsp?}"}}}},this)};MoAspEnginerView.prototype.parseAssign=function(j){var f=j,m,n,g,e,i,b,o;var g=/^([\w\.]+?)((\s)(\+|\-|\*|\/|%|\<\<|\>\>|\>\>\>|\+\=|\-\=|\*\=|\/\=|\||\&|\&\&|\|\|)(\s)([\d\.e\+]+))?(\:(.+?))?$/i.exec(j);if(g){e=g[1];i=g[8];if(i==""){var d="";if(e.indexOf(".")<=0){d=e}else{if(F.string.startWith(e.toLowerCase(),"c.")||F.string.startWith(e.toLowerCase(),"g.")){d=e.substr(2)}else{if(F.string.startWith(e.toLowerCase(),"u(")){d="Mo.U("+e.substr(2,e.length-3)+")"}else{if(F.string.startWith(e.toLowerCase(),"mo.session.")){d='F.session("'+e.substr(11)+'")'}else{if(F.string.startWith(e.toLowerCase(),"mo.get.int.")){d='F.get.int("'+e.substr(11)+'",0)'}else{if(F.string.startWith(e.toLowerCase(),"mo.post.int.")){d='F.post.int("'+e.substr(12)+'",0)'}else{if(F.string.startWith(e.toLowerCase(),"mo.get.")){d='F.get("'+e.substr(7)+'")'}else{if(F.string.startWith(e.toLowerCase(),"mo.post.")){d='F.post("'+e.substr(8)+'")'}else{if(F.string.startWith(e.toLowerCase(),"mo.cookie.")){d='F.cookie("'+e.substr(10)+'")'}else{if(F.string.startWith(e.toLowerCase(),"mo.server.")){d='F.server("'+e.substr(10)+'")'}else{if(F.string.startWith(e.toLowerCase(),"mo.l.")){d='Mo.L("'+e.substr(5)+'")'}else{if(F.string.startWith(e.toLowerCase(),"mo.lang.")){d='Mo.L("'+e.substr(8)+'")'}else{if(F.string.startWith(e.toLowerCase(),"mo.c.")||F.string.startWith(e.toLowerCase(),"mo.config.")){b=e.substr(5);if(F.string.startWith(e.toLowerCase(),"mo.config.")){b=e.substr(10)}if(b.indexOf(".")>0){d='Mo.C("'+b.substr(0,b.indexOf("."))+"."+b.substr(b.indexOf(".")+1)+'")'}else{d='Mo.C("Global.'+b.substr(b.indexOf(".")+1)+'")'}}else{if(F.string.startWith(e.toLowerCase(),"mo.a.")){b=e.substr(5);if(b.indexOf(".")>0){var a=b.substr(b.indexOf(".")+1);if(Mo.Config.Global.MO_ACTION_CASE_SENSITIVITY===false){a=a.toLowerCase()}d='Mo.A("'+b.substr(0,b.indexOf("."))+'").'+a}}else{f=e.substr(e.indexOf(".")+1);e=e.substr(0,e.indexOf("."));d=e+"."+f}}}}}}}}}}}}}}if(d!=""){d+=g[2]}return d}else{var h=this.parseFormatVari(i);if(e.indexOf(".")<=0){return h.replace("{{k}}",e+g[2])}else{if(F.string.startWith(e.toLowerCase(),"c.")||F.string.startWith(e.toLowerCase(),"g.")){return h.replace("{{k}}",e.substr(2))}else{if(F.string.startWith(e.toLowerCase(),"mo.session.")){return h.replace("{{k}}",'F.session("'+e.substr(11)+'")')}else{if(F.string.startWith(e.toLowerCase(),"mo.get.int.")){return h.replace("{{k}}",'F.get.int("'+e.substr(11)+'",0)')}else{if(F.string.startWith(e.toLowerCase(),"mo.post.int.")){return h.replace("{{k}}",'F.post.int("'+e.substr(12)+'",0)')}else{if(F.string.startWith(e.toLowerCase(),"mo.get.")){return h.replace("{{k}}",'F.get("'+e.substr(7)+'")')}else{if(F.string.startWith(e.toLowerCase(),"mo.post.")){return h.replace("{{k}}",'F.post("'+e.substr(8)+'")')}else{if(F.string.startWith(e.toLowerCase(),"mo.cookie.")){return h.replace("{{k}}",'F.cookie("'+e.substr(10)+'")')}else{if(F.string.startWith(e.toLowerCase(),"mo.server.")){return h.replace("{{k}}",'F.server("'+e.substr(10)+'")')}else{if(F.string.startWith(e.toLowerCase(),"mo.l.")){return h.replace("{{k}}",'Mo.L("'+e.substr(5)+'")')}else{if(F.string.startWith(e.toLowerCase(),"mo.c.")){b=e.substr(5);if(b.indexOf(".")>0){return h.replace("{{k}}",'Mo.C("'+b.substr(0,b.indexOf("."))+'").'+b.substr(b.indexOf(".")+1))}else{return h.replace("{{k}}",'Mo.C("Global.'+b.substr(b.indexOf(".")+1))}}else{if(F.string.startWith(e.toLowerCase(),"mo.a.")){b=e.substr(5);if(b.indexOf(".")>0){var a=b.substr(b.indexOf(".")+1);if(Mo.Config.Global.MO_ACTION_CASE_SENSITIVITY===false){a=a.toLowerCase()}return h.replace("{{k}}",'Mo.A("'+b.substr(0,b.indexOf("."))+'").'+a)}}else{f=e.substr(e.indexOf(".")+1);e=e.substr(0,e.indexOf("."));return h.replace("{{k}}",e+"."+f+g[2])}}}}}}}}}}}}}}};MoAspEnginerView.prototype.parseFormatVari=function(g){if(g==""){return""}var d=g,f="",c="";var e=/^(.+?)\=(.+)$/.exec(d);if(!e){e=/^(.+?)\((.+)\)$/.exec(d)}if(e){f=","+e[2];d=e[1];var a="{{k}}"+f;if(F.string.endWith(f,",...")){f=f.substr(0,f.length-3);if(f.substr(0,1)==","){f=f.substr(1)}a=f+"{{k}}"}else{if(f.indexOf(",...,")>=0){f=f.replace(",...,",",{{k}},");if(f.substr(0,1)==","){f=f.substr(1)}a=f}}f=this.parseArguments(a)}else{f="{{k}}"}var b=d.split(".");if(b.length==4&&b[0].toLowerCase()=="mo"&&b[1].toLowerCase()=="a"){if(Mo.Config.Global.MO_ACTION_CASE_SENSITIVITY===false){b[3]=b[3].toLowerCase()}d='Mo.A("'+b[2]+'").'+b[3]}else{if(d.length>2&&F.string.startWith(d.toLowerCase(),"f.")){d="F."+d.substr(2)}}if((","+G.MO_DISABLED_FUNCTIONS.toLowerCase()+",").indexOf(","+d.toLowerCase()+",")>=0){return'"disabled function:'+d+'"'}return d+"("+f+")"};module.exports=MoAspEnginerView;